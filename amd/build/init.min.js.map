{"version":3,"sources":["../src/init.js"],"names":["define","$","init","sesskey","url","click","prop","each","post","attr","form","document","createElement","hidden","method","action","k","input","type","name","value","append","body","submit"],"mappings":"AA2BAA,OAAM,mCAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CAC3B,MAAO,CACHC,IAAI,CAAE,cAASC,CAAT,CAAkBC,CAAlB,CAAuB,CACzBH,CAAC,CAAC,0BAAD,CAAD,CAA4BI,KAA5B,CAAkC,UAAW,CACzCJ,CAAC,CAAC,qBAAD,CAAD,CAAuBK,IAAvB,CAA4B,SAA5B,CAAuCL,CAAC,CAAC,0BAAD,CAAD,CAA4BK,IAA5B,CAAiC,SAAjC,CAAvC,CACH,CAFD,EAIAL,CAAC,CAAC,sBAAD,CAAD,CAA0BM,IAA1B,CAA+B,UAAW,CACtCN,CAAC,CAAC,IAAD,CAAD,CAAQI,KAAR,CAAc,UAAW,IACjBG,CAAAA,CAAI,CAAG,CACP,IAAOP,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,aAAb,CADA,CAEP,MAAOR,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,cAAb,CAFA,CAGP,QAAWN,CAHJ,CADU,CAMjBO,CAAI,CAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CANU,CAOrBF,CAAI,CAACG,MAAL,IACAH,CAAI,CAACI,MAAL,CAAc,MAAd,CACAJ,CAAI,CAACK,MAAL,CAAcX,CAAd,CACA,IAAK,GAAIY,CAAAA,CAAT,GAAcR,CAAAA,CAAd,CAAoB,CAChB,GAAIS,CAAAA,CAAK,CAAGN,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAZ,CACAK,CAAK,CAACC,IAAN,CAAa,QAAb,CACAD,CAAK,CAACE,IAAN,CAAaH,CAAb,CACAC,CAAK,CAACG,KAAN,CAAcZ,CAAI,CAACQ,CAAD,CAAlB,CACAN,CAAI,CAACW,MAAL,CAAYJ,CAAZ,CACH,CACDN,QAAQ,CAACW,IAAT,CAAcD,MAAd,CAAqBX,CAArB,EACAA,CAAI,CAACa,MAAL,EACH,CAnBD,CAoBH,CArBD,CAsBH,CA5BE,CA8BV,CA/BK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Life Cycle Admin Approve Step AMD Module\n *\n * @package tool_lifecycle_step\n * @subpackage adminapprove\n * @copyright  2019 Justus Dieckmann WWU\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/**\n * @module lifecyclestep_adminapprove/init\n */\ndefine(['jquery'], function($) {\n    return {\n        init: function(sesskey, url) {\n            $('input[name=\"checkall\"]').click(function() {\n                $('input[name=\"c[]\"]').prop('checked', $('input[name=\"checkall\"]').prop('checked'));\n            });\n\n            $('.adminapprove-action').each(function() {\n                $(this).click(function() {\n                    var post = {\n                        'act': $(this).attr('data-action'),\n                        'c[]': $(this).attr('data-content'),\n                        'sesskey': sesskey\n                    };\n                    var form = document.createElement('form');\n                    form.hidden = true;\n                    form.method = 'post';\n                    form.action = url;\n                    for (var k in post) {\n                        var input = document.createElement('input');\n                        input.type = 'hidden';\n                        input.name = k;\n                        input.value = post[k];\n                        form.append(input);\n                    }\n                    document.body.append(form);\n                    form.submit();\n                });\n            });\n        }\n    };\n});"],"file":"init.min.js"}